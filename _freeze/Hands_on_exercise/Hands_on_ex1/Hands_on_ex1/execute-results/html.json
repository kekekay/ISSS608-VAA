{
  "hash": "7fcd25aebe7a7ae2fac463e4da42efd5",
  "result": {
    "markdown": "---\ntitle: \"Hands-on ex1\"\nauthor: \"Ke Ke\"\ndate: \"12 Apr 2024\"\ndate-modified: \"last-modified\"\nformat:\n  html:\n    code-fold: true\n    code-tools: true\nexecute: \n  eval: true\n  #echo: true display code chunk\n  warning: false\n  freeze: true\n---\n\n\n# 1. Getting Started\n\n## 1.1 Install and launching R packages\n\nThe code chunk below uses p_load() of pacman package to check if tidyverse pakcges are installed in the computer. If yes, then they will be launched into R environment.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse)\n```\n:::\n\n\n## 1.2 Checking Working Directory and Importing Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngetwd()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"C:/kekekay/ISSS608-VAA/Hands_on_exercise/Hands_on_ex1\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nexam_data <- read_csv(\"Exam_data.csv\")\nexam_data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 322 × 7\n   ID         CLASS GENDER RACE    ENGLISH MATHS SCIENCE\n   <chr>      <chr> <chr>  <chr>     <dbl> <dbl>   <dbl>\n 1 Student321 3I    Male   Malay        21     9      15\n 2 Student305 3I    Female Malay        24    22      16\n 3 Student289 3H    Male   Chinese      26    16      16\n 4 Student227 3F    Male   Chinese      27    77      31\n 5 Student318 3I    Male   Malay        27    11      25\n 6 Student306 3I    Female Malay        31    16      16\n 7 Student313 3I    Male   Chinese      31    21      25\n 8 Student316 3I    Male   Malay        31    18      27\n 9 Student312 3I    Male   Malay        33    19      15\n10 Student297 3H    Male   Indian       34    49      37\n# ℹ 312 more rows\n```\n:::\n:::\n\n\n## 1.3 Plotting a simple bar chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = exam_data,\n       aes(x=RACE)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n# 2. Introducing `ggplot`\n\n## 2.1 Comparison of Base R and ggplot plot\n\n\n::: {.cell layout-ncol=\"2\" fig.ncol='2'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n#R graphic \nhist(exam_data$MATHS)\n\n#ggplot\nggplot(data=exam_data, aes(x = MATHS)) +\n  geom_histogram(bins=10, \n                 boundary = 100,\n                 color=\"black\", \n                 fill=\"grey\") +\n  ggtitle(\"Distribution of Maths scores\")\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n\n::: {.callout-note collapse=\"true\"}\n## Notes:\n\nWhile both approaches achieve similar results, the ggplot2 version can be easily modified and extended with additional layers, themes, and scales without fundamentally altering the underlying code structure. more suitable for complex visualization.\n:::\n\n# 3 Step by step plotting\n\n## 3.1 call the `ggplot()` function\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data)\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## 3.2 adding in x-axis and the axis’s label\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS))\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## 3.3 Essential Grammatical Elements in ggplot2: geom\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-cap: \"Geometric Objects: geom_bar VS geom_dotplot vs geom_histogram()\" \n\n#| fig-subcap: \n#| - \"plots a bar chart by using geom_bar()\" \n\n#| - \"geom_dotplot() of ggplot2 is used to plot a dot plot\" \n#| - \"turn off the y-axis &  change the binwidth to 2.5\"\n#| - \"create a simple histogram\"\n#| layout-ncol: 4 \n#| column: page\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar()\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(binwidth=2.5,         \n               dotsize = 0.5) +      \n  scale_y_continuous(NULL,           \n                     breaks = NULL)  \n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_histogram()       \n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg2-1.png){#fig-mpg2-1 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg2-2.png){#fig-mpg2-2 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg2-3.png){#fig-mpg2-3 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg2-4.png){#fig-mpg2-4 width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-cap: \"Modifying a Geometric Object \" \n\n#| fig-subcap: \n#| - \"by changing geom()\" \n\n#| - \"by changing aes()\" \n\n#| layout-ncol: 2\n#| column: page\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20,            \n                 color=\"black\",      \n                 fill=\"light blue\")  \n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           fill = GENDER)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\")\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg3-1.png){#fig-mpg3-1 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg3-2.png){#fig-mpg3-2 width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-cap: \"Geometric Objects: geom-density() VS geom_boxplot()\" \n\n#| fig-subcap: \n#| - \"geom-density() computes and plots kernel density estimate\" \n\n#| - \"two kernel density lines by using colour or fill arguments of aes()\" \n#| - \"geom_boxplot() displays continuous value list\"\n#| - \"adding notch to help visually assess whether the medians of distributions differ\"\n#| layout-ncol: 4 \n#| column: page\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_density()           \n\nggplot(data=exam_data, \n       aes(x = MATHS, \n           colour = GENDER)) +\n  geom_density()\n\nggplot(data=exam_data, \n       aes(y = MATHS,       \n           x= GENDER)) +    \n  geom_boxplot()            \n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot(notch=TRUE)    \n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg4-1.png){#fig-mpg4-1 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg4-2.png){#fig-mpg4-2 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg4-3.png){#fig-mpg4-3 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg4-4.png){#fig-mpg4-4 width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-cap: \"Geometric Objects: geom_violin VS geom_point()\" \n\n#| fig-subcap: \n#| - \"geom_violin is designed for creating violin plot to compare several distributions side by side\" \n\n#| - \"geom_point() is especially useful for creating scatterplot\" \n\n#| layout-ncol: 2\n#| column: page\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_violin()\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point()            \n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg5-1.png){#fig-mpg5-1 width=672}\n:::\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/fig-mpg5-2.png){#fig-mpg5-2 width=672}\n:::\n:::\n\n\n## 3.4 Combine geom objects\n\nplot the data points on the boxplots by using both `geom_boxplot()` and `geom_point()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot() +                    \n  geom_point(position=\"jitter\", \n             size = 0.5)        \n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n## 3.5 **Essential Grammatical Elements in ggplot2: stat**\n\n### 3.5.1 **Working with `stat()`**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n### 3.5.2 using stat_summary() function and overriding the default geom\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  stat_summary(geom = \"point\",       \n               fun=\"mean\",         \n               colour =\"red\",        \n               size=4)               \n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n### 3.5.3 using geom\\_() function and overriding the default stat\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  geom_point(stat=\"summary\",        \n             fun=\"mean\",           \n             colour =\"red\",          \n             size=4)  \n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n### 3.5.4 adding a best fit curve on a scatterplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(linewidth=0.5)\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n### 3.5.5 override default smoothing method from *loess* to *linear model*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5)\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n## **3.6 Essential Grammatical Elements in ggplot2: Facets**\n\n### 3.6.1 **Working with `facet_wrap()`**\n\nThe facet_grid() function create a grid of plots by specifying rows and columns based on factors.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Assuming exam_data is already loaded and contains columns MATHS and CLASS\nggplot(data=exam_data, aes(x=MATHS)) +\n  geom_histogram(bins=20) +\n  facet_grid(CLASS ~ .)  # CLASS variable defines the rows\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, aes(x=MATHS)) +\n  geom_histogram(bins=20) +\n  facet_grid(. ~ CLASS)  # CLASS variable defines the columns\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n`facet_wrap` wraps a 1d sequence of panels into 2d. This is generally a better use of screen space than `facet_grid` because most displays are roughly rectangular.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n    facet_wrap(~ CLASS)\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n## **3.7 Essential Grammatical Elements in ggplot2: Coordinates**\n\n### 3.7.1 **Working with Coordinate**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\n### 3.7.2 flips the horizontal bar chart into vertical bar chart by using `coord_flip()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n### 3.7.3 **Changing the y- and x-axis range**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, size=0.5)\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\n::: callout-warning\nThe scatterplot on the right is slightly misleading because the y-aixs and x-axis range are not equal.\n:::\n\n### 3.7.4 fixed both the y-axis and x-axis range from 0-100.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n## **3.8 Essential Grammatical Elements in ggplot2: themes**\n\n### 3.8.1 **Working with theme**\n\n```         \n```\n\n::: panel-tabset\n## Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_gray()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data, aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot with theme_gray()\nggplot(data=exam_data, aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_gray()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Plot with theme_classic()\nggplot(data=exam_data, aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-27-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# Plot with theme_minimal()\nggplot(data=exam_data, aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Hands_on_ex1_files/figure-html/unnamed-chunk-27-3.png){width=672}\n:::\n:::\n\n\n```         \n```\n",
    "supporting": [
      "Hands_on_ex1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}